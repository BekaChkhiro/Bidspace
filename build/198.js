"use strict";(self.webpackChunkbrads_boilerplate_theme=self.webpackChunkbrads_boilerplate_theme||[]).push([[198],{330:(e,t,a)=>{a.d(t,{SQ:()=>s,_2:()=>m,lp:()=>c,rI:()=>n,ty:()=>o});var r=a(609),l=a.n(r);const n=({children:e})=>{const[t,a]=l().useState(!1),n=l().useRef(null);return l().useEffect((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,r.createElement)("div",{className:"relative",ref:n},l().Children.map(e,(e=>e.type===o?l().cloneElement(e,{onClick:()=>a(!t)}):e.type===s?t?e:null:e)))},o=({children:e,onClick:t})=>l().cloneElement(e,{onClick:t}),s=({children:e,align:t="end"})=>(0,r.createElement)("div",{className:`absolute z-10 mt-1 ${{start:"left-0",end:"right-0"}[t]} min-w-[140px] bg-white shadow-lg rounded-md border border-gray-200`},e),c=({children:e,className:t=""})=>(0,r.createElement)("div",{className:`border-b border-gray-100 ${t}`},e),m=({children:e,onClick:t,className:a=""})=>(0,r.createElement)("button",{className:`block w-full text-left ${a}`,onClick:t},e)},198:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var r=a(609),l=a(488);a(330);const n=({auction:e,onClose:t})=>e?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.A,{in:!0,appear:!0,timeout:300,classNames:"overlay",unmountOnExit:!0},(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-40",onClick:t})),(0,r.createElement)(l.A,{in:!0,appear:!0,timeout:300,classNames:"sidebar",unmountOnExit:!0},(0,r.createElement)("div",{className:"fixed inset-y-0 left-0 w-96 bg-white shadow-xl z-50"},(0,r.createElement)("div",{className:"h-full overflow-y-auto"},(0,r.createElement)("div",{className:"p-6"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h2",{className:"text-lg font-semibold"},"აუქციონის დეტალები"),(0,r.createElement)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-1 hover:bg-gray-100 rounded-full"},(0,r.createElement)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),(0,r.createElement)("div",{className:"space-y-6"},e._embedded?.["wp:featuredmedia"]?.[0]?.source_url&&(0,r.createElement)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 rounded-lg overflow-hidden"},(0,r.createElement)("img",{src:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title.rendered,className:"object-cover w-full h-full"})),(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-sm font-medium text-gray-500"},"სათაური"),(0,r.createElement)("p",{className:"mt-1 text-base font-medium text-gray-900"},e.title.rendered)),(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-sm font-medium text-gray-500"},"სტატუსი"),(0,r.createElement)("div",{className:"mt-1"},getAuctionStatus(e))),(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-sm font-medium text-gray-500"},"საწყისი ფასი"),(0,r.createElement)("p",{className:"mt-1 text-lg font-semibold text-gray-900"},"₾",e.meta.auction_price)),(0,r.createElement)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3"},(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-sm font-medium text-gray-500"},"დაწყების დრო"),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-900"},new Date(e.meta.start_time).toLocaleString("ka-GE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))),(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-sm font-medium text-gray-500"},"დასრულების დრო"),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-900"},new Date(e.meta.due_time).toLocaleString("ka-GE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})))),e.content&&(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-sm font-medium text-gray-500"},"აღწერა"),(0,r.createElement)("div",{className:"mt-2 prose prose-sm max-w-none text-gray-900",dangerouslySetInnerHTML:{__html:e.content.rendered}})),e.meta&&Object.entries(e.meta).filter((([e])=>!["auction_price","start_time","due_time"].includes(e))).map((([e,t])=>(0,r.createElement)("div",{key:e},(0,r.createElement)("h3",{className:"text-sm font-medium text-gray-500"},e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-900"},t)))))))))):null,o=({auction:e,onClose:t})=>{if(!e)return null;const[a,n]=(0,r.useState)({title:e.title.rendered||"",category:e.meta.category||"",ticket_category:e.meta.ticket_category||"",start_date:e.meta.start_date||"",city:e.meta.city||"",ticket_price:e.meta.ticket_price||"",ticket_quantity:e.meta.ticket_quantity||"",hall:e.meta.hall||"",row:e.meta.row||"",place:e.meta.place||"",sector:e.meta.sector||"",start_time:e.meta.start_time||"",due_time:e.meta.due_time||"",auction_price:e.meta.auction_price||"",buy_now:e.meta.buy_now||"",min_bid_price:e.meta.min_bid_price||"",ticket_information:e.meta.ticket_information||"",skhva_qalaqebi:e.meta.skhva_qalaqebi||"",sazgvargaret:e.meta.sazgvargaret||""}),[o,s]=(0,r.useState)("skhva_qalaqebi"===e.meta.city),[c,m]=(0,r.useState)("sazgvargaret"===e.meta.city);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.A,{in:!0,appear:!0,timeout:300,classNames:"overlay",unmountOnExit:!0},(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-40",onClick:()=>t(!1)})),(0,r.createElement)(l.A,{in:!0,appear:!0,timeout:300,classNames:"sidebar",unmountOnExit:!0},(0,r.createElement)("div",{className:"fixed inset-y-0 left-0 w-[600px] bg-white shadow-2xl z-50"},(0,r.createElement)("div",{className:"flex flex-col h-full"},(0,r.createElement)("div",{className:"flex items-center justify-between px-8 py-6 border-b bg-white sticky top-0 z-10 shadow-sm"},(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-2xl font-semibold text-gray-900"},"აუქციონის რედაქტირება"),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-500 flex items-center"},(0,r.createElement)("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),"ID: #",e.id)),(0,r.createElement)("button",{onClick:()=>t(!1),className:"p-2.5 hover:bg-gray-100 rounded-full transition-all duration-200 hover:rotate-90"},(0,r.createElement)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),(0,r.createElement)("div",{className:"flex-1 overflow-y-auto"},(0,r.createElement)("form",{onSubmit:async r=>{r.preventDefault();try{if(!(await fetch(`/wp-json/wp/v2/auction/${e.id}`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify({title:a.title,meta:{category:a.category,ticket_category:a.ticket_category,start_date:a.start_date,city:a.city,ticket_price:a.ticket_price,ticket_quantity:a.ticket_quantity,hall:a.hall,row:a.row,place:a.place,sector:a.sector,start_time:a.start_time,due_time:a.due_time,auction_price:a.auction_price,buy_now:a.buy_now,min_bid_price:a.min_bid_price,ticket_information:a.ticket_information,skhva_qalaqebi:a.skhva_qalaqebi,sazgvargaret:a.sazgvargaret}})})).ok)throw new Error("Failed to update auction");t(!0)}catch(e){console.error("Error updating auction:",e),alert("აუქციონის განახლება ვერ მოხერხდა")}}},(0,r.createElement)("div",{className:"px-8 py-6 space-y-10"},e._embedded?.["wp:featuredmedia"]?.[0]?.source_url&&(0,r.createElement)("div",{className:"relative aspect-w-16 aspect-h-9 bg-gray-100 rounded-2xl overflow-hidden shadow-inner"},(0,r.createElement)("img",{src:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title.rendered,className:"object-cover w-full h-full"}),(0,r.createElement)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})),(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"pb-3 border-b border-gray-200"},(0,r.createElement)("div",{className:"flex items-center space-x-2"},(0,r.createElement)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})),(0,r.createElement)("h4",{className:"text-lg font-semibold text-gray-900"},"ძირითადი ინფორმაცია")),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-500"},"შეავსეთ აუქციონის ძირითადი დეტალები")),(0,r.createElement)("div",{className:"grid grid-cols-1 gap-6"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"სათაური"),(0,r.createElement)("input",{type:"text",value:a.title,onChange:e=>n({...a,title:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"შეიყვანეთ აუქციონის სათაური"})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"კატეგორია"),(0,r.createElement)("select",{value:a.category,onChange:e=>{return t=e.target.value,void n((e=>({...e,category:t,ticket_category:t})));var t},className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400"},(0,r.createElement)("option",{value:""},"აირჩიეთ კატეგორია"),(0,r.createElement)("option",{value:"თეატრი-კინო"},"თეატრი-კინო"),(0,r.createElement)("option",{value:"სპორტი"},"სპორტი"),(0,r.createElement)("option",{value:"მოგზაურობა"},"მოგზაურობა"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"ქალაქი"),(0,r.createElement)("select",{value:a.city,onChange:e=>{return t=e.target.value,n((e=>({...e,city:t,skhva_qalaqebi:"",sazgvargaret:""}))),s("skhva_qalaqebi"===t),void m("sazgvargaret"===t);var t},className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400"},(0,r.createElement)("option",{value:""},"აირჩიეთ ქალაქი"),(0,r.createElement)("option",{value:"თბილისი"},"თბილისი"),(0,r.createElement)("option",{value:"ბათუმი"},"ბათუმი"),(0,r.createElement)("option",{value:"ქუთაისი"},"ქუთაისი"),(0,r.createElement)("option",{value:"სხვა_ქალაქები"},"სხვა ქალაქები"),(0,r.createElement)("option",{value:"საზღვარგარეთ"},"საზღვარგარეთ")))),o&&(0,r.createElement)("div",{className:"animate-fadeIn"},(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"სხვა ქალაქი"),(0,r.createElement)("input",{type:"text",value:a.skhva_qalaqebi,onChange:e=>n({...a,skhva_qalaqebi:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"შეიყვანეთ ქალაქის სახელი"})),c&&(0,r.createElement)("div",{className:"animate-fadeIn"},(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"საზღვარგარეთ"),(0,r.createElement)("input",{type:"text",value:a.sazgvargaret,onChange:e=>n({...a,sazgvargaret:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"შეიყვანეთ ქვეყნის სახელი"})),a.category?({"თეატრი-კინო":["hall","row","place"],სპორტი:["sector","row","place"],მოგზაურობა:["hall","row","place"]}[a.category]||[]).map((e=>(0,r.createElement)("div",{key:e},(0,r.createElement)("label",{className:"block text-xs font-medium text-gray-500 mb-1"},"hall"===e?"დარბაზი":"row"===e?"რიგი":"place"===e?"ადგილი":"sector"===e?"სექტორი":e),(0,r.createElement)("input",{type:"text",value:a[e],onChange:t=>n({...a,[e]:t.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})))):null)),(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"pb-3 border-b border-gray-200"},(0,r.createElement)("div",{className:"flex items-center space-x-2"},(0,r.createElement)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,r.createElement)("h4",{className:"text-lg font-semibold text-gray-900"},"ფასები")),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-500"},"მიუთითეთ აუქციონის ფასები")),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-6"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"ბილეთის ფასი"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"number",value:a.ticket_price,onChange:e=>n({...a,ticket_price:e.target.value}),className:"w-full pl-8 pr-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"0.00"}),(0,r.createElement)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none"},"₾"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"ბილეთების რაოდენობა"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"number",value:a.ticket_quantity,onChange:e=>n({...a,ticket_quantity:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"0"}),(0,r.createElement)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm pointer-events-none"},"ცალი"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"საწყისი ფასი"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"number",value:a.auction_price,onChange:e=>n({...a,auction_price:e.target.value}),className:"w-full pl-8 pr-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"0.00"}),(0,r.createElement)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none"},"₾"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"ახლავე ყიდვის ფასი"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"number",value:a.buy_now,onChange:e=>n({...a,buy_now:e.target.value}),className:"w-full pl-8 pr-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"0.00"}),(0,r.createElement)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none"},"₾"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"მინიმალური ბიჯი"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"number",value:a.min_bid_price,onChange:e=>n({...a,min_bid_price:e.target.value}),className:"w-full pl-8 pr-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400",placeholder:"0.00"}),(0,r.createElement)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none"},"₾"))))),(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"pb-3 border-b border-gray-200"},(0,r.createElement)("div",{className:"flex items-center space-x-2"},(0,r.createElement)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,r.createElement)("h4",{className:"text-lg font-semibold text-gray-900"},"დრო")),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-500"},"მიუთითეთ აუქციონის დაწყებისა და დასრულების დრო")),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-6"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"დაწყების დრო"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"datetime-local",value:a.start_time,onChange:e=>n({...a,start_time:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400"}),(0,r.createElement)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"},(0,r.createElement)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"დასრულების დრო"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"datetime-local",value:a.due_time,onChange:e=>n({...a,due_time:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400"}),(0,r.createElement)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"},(0,r.createElement)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))))),(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"pb-3 border-b border-gray-200"},(0,r.createElement)("div",{className:"flex items-center space-x-2"},(0,r.createElement)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,r.createElement)("h4",{className:"text-lg font-semibold text-gray-900"},"დამატებითი ინფორმაცია")),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-500"},"მიუთითეთ ბილეთის შესახებ დამატებითი ინფორმაცია")),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"ბილეთის ინფორმაცია"),(0,r.createElement)("textarea",{value:a.ticket_information,onChange:e=>n({...a,ticket_information:e.target.value}),rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 shadow-sm hover:border-gray-400 resize-none",placeholder:"შეიყვანეთ დამატებითი ინფორმაცია ბილეთის შესახებ..."}))),(0,r.createElement)("div",{className:"space-y-6 border-t border-gray-200 pt-8 mt-8"},(0,r.createElement)("div",{className:"pb-3 border-b border-gray-200"},(0,r.createElement)("div",{className:"flex items-center space-x-2"},(0,r.createElement)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})),(0,r.createElement)("h4",{className:"text-lg font-semibold text-gray-900"},"მომხმარებლის ინფორმაცია")),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-500"},"აუქციონის გამომქვეყნებელი მომხმარებლის დეტალები")),(0,r.createElement)("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4"},(0,r.createElement)("div",{className:"flex items-center space-x-3"},(0,r.createElement)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center"},(0,r.createElement)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}))),(0,r.createElement)("div",null,(0,r.createElement)("h5",{className:"font-medium text-gray-900"},e.author_name||"უცნობი მომხმარებელი"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"ID: ",e.author))),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-500"},"ელ-ფოსტა"),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-900"},e.author_email||"არ არის მითითებული")),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-500"},"ტელეფონი"),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-900"},e.author_phone||"არ არის მითითებული")),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-500"},"რეგისტრაციის თარიღი"),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-900"},e.author_registered?new Date(e.author_registered).toLocaleDateString("ka-GE"):"არ არის მითითებული")),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-500"},"სტატუსი"),(0,r.createElement)("span",{className:"inline-flex items-center mt-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"აქტიური"))),(0,r.createElement)("div",{className:"flex items-center space-x-3 pt-2"},(0,r.createElement)("button",{type:"button",className:"inline-flex items-center px-3.5 py-2 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>{}},(0,r.createElement)("svg",{className:"w-4 h-4 mr-2 transition-colors duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),(0,r.createElement)("span",{className:"relative top-px"},"პროფილის ნახვა")),(0,r.createElement)("button",{type:"button",className:"inline-flex items-center px-3.5 py-2 text-sm font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 rounded-lg transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",onClick:()=>{}},(0,r.createElement)("svg",{className:"w-4 h-4 mr-2 transition-colors duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})),(0,r.createElement)("span",{className:"relative top-px"},"შეტყობინების გაგზავნა")))))),(0,r.createElement)("div",{className:"sticky bottom-0 bg-white border-t px-8 py-4 shadow-lg"},(0,r.createElement)("button",{type:"submit",className:"w-full px-6 py-3 bg-blue-600 text-white text-base font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 transform hover:scale-[0.99] active:scale-[0.97]"},"შენახვა"))))))))},s=()=>{const[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[s,c]=(0,r.useState)(""),[m,i]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{b()}),[]);const b=async()=>{try{const e=await fetch("/wp-json/wp/v2/auction/?per_page=100&_embed");if(!e.ok)throw new Error("Failed to fetch auctions");const a=await e.json();t(a)}catch(e){console.error("Error:",e)}finally{l(!1)}},y=e.filter((e=>e?.title?.rendered?.toLowerCase().includes(s.toLowerCase())));return a?(0,r.createElement)("div",{className:"flex items-center justify-center h-96"},(0,r.createElement)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})):(0,r.createElement)("div",{className:"bg-white p-6 rounded-lg"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h2",{className:"text-xl font-semibold"},"აუქციონები"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"text",placeholder:"ძებნა...",value:s,onChange:e=>c(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md"}),(0,r.createElement)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})))),(0,r.createElement)("div",{className:"mt-6"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"აუქციონი"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"სტატუსი"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ფასი"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"თარიღი"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"მოქმედება"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},y.map((a=>(0,r.createElement)("tr",{key:a.id},(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("div",{className:"flex items-center"},(0,r.createElement)("div",{className:"h-10 w-10 bg-gray-200 rounded-md overflow-hidden"},a._embedded?.["wp:featuredmedia"]?.[0]?.source_url&&(0,r.createElement)("img",{src:a._embedded["wp:featuredmedia"][0].source_url,alt:a.title.rendered,className:"h-full w-full object-cover"})),(0,r.createElement)("div",{className:"ml-4"},(0,r.createElement)("div",{className:"text-sm font-medium text-gray-900"},a.title.rendered),(0,r.createElement)("div",{className:"text-sm text-gray-500"},"ID: #",a.id)))),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(e=>{const t=new Date,a=new Date(e.meta.start_time),l=new Date(e.meta.due_time);return t<a?(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"},"დაგეგმილი"):t>=a&&t<=l?(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},"აქტიური"):(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},"დასრულებული")})(a)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"₾",a.meta.auction_price),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},(e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("ka-GE",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(t){return e}})(a.meta.start_time)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},(0,r.createElement)("button",{onClick:()=>{i(a),p(!0)},className:"inline-flex items-center px-3 py-1.5 text-sm font-medium bg-gray-50 text-gray-600 rounded-md hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 border border-gray-200 mr-2"},(0,r.createElement)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})),"რედაქტირება"),(0,r.createElement)("button",{onClick:()=>{i(a),u(!0)},className:"inline-flex items-center px-3 py-1.5 text-sm font-medium bg-gray-50 text-gray-600 rounded-md hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 border border-gray-200 mr-2 group relative"},(0,r.createElement)("svg",{className:"w-4 h-4 mr-1.5 transition-colors duration-200 group-hover:text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),(0,r.createElement)("span",{className:"relative top-px"},"ნახვა")),(0,r.createElement)("button",{onClick:()=>(async a=>{if(window.confirm("ნამდვილად გსურთ აუქციონის წაშლა?"))try{if(!(await fetch(`/wp-json/wp/v2/auction/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce}})).ok)throw new Error("Failed to delete auction");t(e.filter((e=>e.id!==a)))}catch(e){console.error("Error deleting auction:",e),alert("აუქციონის წაშლა ვერ მოხერხდა")}})(a.id),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium bg-gray-50 text-gray-600 rounded-md hover:bg-red-50 hover:text-red-600 transition-all duration-200 border border-gray-200"},(0,r.createElement)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),"წაშლა")))))))),d&&(0,r.createElement)(n,{auction:m,onClose:()=>{u(!1),i(null)}}),g&&(0,r.createElement)(o,{auction:m,onClose:e=>{p(!1),i(null),e&&b()}}))}}}]);